<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
	<title>Parameters</title>
	<meta name="viewport" content="width=400" />
	
	<script src="socket.io/socket.io.js"></script>
	<link rel="stylesheet" href="slider.css">
	<link rel="stylesheet" href="yle.css">
	<style>
	body {
		color: white;
	}
	</style>
  </head>
  <body>
  	<div id="header">
    	<div id='infos'>Parameters settings</div>
    	<div id="menu">
    		<input type="image" id="save" value="save" src="save.png" onclick="saveParameters(this.value)">
    		<a href="/"><img id="home" src="home.png"></a>
    	</div>
    </div>
	<div id="blocAllParam">
		<hr>
<!--
| Ralenti         | Min   | Sec |
|-----------------|-------|-----|
| 1000            | 27sec | 27  |
| 750             | 3m09  | 189 |
| 500             | 2m07  | 127 |
| 250             | 1m04  | 64  |
| 125             | 32sec | 32  |
| 75              | 20sec | 20  |
		<hr>
-->
<!-- Oscillo n°1 -->
		<div>Oscillo n°1</div>
<!-- param01: vitesse entre 2 pas -->
		<div class="blocParamImg">	
			<img src="chronometers.png">
		</div>
		<div class="blocParamTxt">
			<span>Ralenti: </span><span id="outputText1">xx</span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider1" min="75" max="1000" value="250" step="5" oninput="showParam(1,this.value)" />
		</div>
<!-- param02: angle mini -->	
		<div class="blocParamImg">	
			<img src="rewind.png">
		</div>
		<div class="blocParamTxt">
			<span>Angle min: </span><span id="outputText2">xx</span>
		</div>				
		<div class="blocSlider">
			<input type="range" id="inputSlider2" min="1" max="250" value="1" step="1" oninput="showParam(2,this.value)" />
		</div>
<!-- param03: angle maxi -->
		<div class="blocParamImg">	
			<img src="fast-forward.png">
		</div>
		<div class="blocParamTxt">
			<span>Angle maxi: </span><span id="outputText3">xx</span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider3" min="1" max="250" value="250" step="1" oninput="showParam(3,this.value)" />
		</div>
		<hr>

<!-- Oscillo n°2 -->
		<div>Oscillo n°2</div>
<!-- param04: vitesse entre 2 pas -->
		<div class="blocParamImg">	
			<img src="chronometers.png">
		</div>
		<div class="blocParamTxt">
			<span>Ralenti: </span><span id="outputText4">xx</span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider4" min="75" max="1000" value="250" step="5" oninput="showParam(4,this.value)" />
		</div>
<!-- param05: angle mini -->	
		<div class="blocParamImg">	
			<img src="rewind.png">
		</div>
		<div class="blocParamTxt">
			<span>Angle min: </span><span id="outputText5">xx</span>
		</div>				
		<div class="blocSlider">
			<input type="range" id="inputSlider5" min="1" max="250" value="1" step="1" oninput="showParam(5,this.value)" />
		</div>
<!-- param06: angle maxi -->
		<div class="blocParamImg">	
			<img src="fast-forward.png">
		</div>
		<div class="blocParamTxt">
			<span>Angle maxi: </span><span id="outputText6">xx</span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider6" min="1" max="250" value="250" step="1" oninput="showParam(6,this.value)" />
		</div>
		<hr>		

<!-- Oscillo n°3 -->
		<div>Oscillo n°3</div>
<!-- param07: vitesse entre 2 pas -->
		<div class="blocParamImg">	
			<img src="chronometers.png">
		</div>
		<div class="blocParamTxt">
			<span>Ralenti: </span><span id="outputText7">xx</span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider7" min="75" max="1000" value="250" step="5" oninput="showParam(7,this.value)" />
		</div>
<!-- param08: angle mini -->	
		<div class="blocParamImg">	
			<img src="rewind.png">
		</div>
		<div class="blocParamTxt">
			<span>Angle min: </span><span id="outputText8">xx</span>
		</div>				
		<div class="blocSlider">
			<input type="range" id="inputSlider8" min="1" max="250" value="1" step="1" oninput="showParam(8,this.value)" />
		</div>
<!-- param09: angle maxi -->
		<div class="blocParamImg">	
			<img src="fast-forward.png">
		</div>
		<div class="blocParamTxt">
			<span>Angle maxi: </span><span id="outputText9">xx</span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider9" min="1" max="250" value="250" step="1" oninput="showParam(9,this.value)" />
		</div>

		<hr>		
		<div>Ralneti
		</div>

		<hr>
<!-- Oscillo n°4 -->
		<div>Oscillo n°4</div>
<!-- param010: vitesse entre 2 pas -->
		<div class="blocParamImg">	
			<img src="chronometers.png">
		</div>
		<div class="blocParamTxt">
			<span>Ralenti: </span><span id="outputText10">xx</span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider10" min="75" max="1000" value="250" step="5" oninput="showParam(10,this.value)" />
		</div>
<!-- param011: angle mini -->	
		<div class="blocParamImg">	
			<img src="rewind.png">
		</div>
		<div class="blocParamTxt">
			<span>Angle min: </span><span id="outputText11">xx</span>
		</div>				
		<div class="blocSlider">
			<input type="range" id="inputSlider11" min="1" max="250" value="1" step="1" oninput="showParam(11,this.value)" />
		</div>
<!-- param012: angle maxi -->
		<div class="blocParamImg">	
			<img src="fast-forward.png">
		</div>
		<div class="blocParamTxt">
			<span>Angle maxi: </span><span id="outputText12">xx</span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider12" min="1" max="250" value="250" step="1" oninput="showParam(12,this.value)" />
		</div>
		<hr>		

<!--- Global params -->
<!-- param013: fake -->
<!--
		<div class="blocParamImg">	
			<img src="fast-forward.png">
		</div>
		<div class="blocParamTxt">
			<span>Angle maxi: </span><span id="outputText13"></span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider13" min="1" max="250" value="250" step="1" oninput="showParam(13,this.value)" />
		</div>
		<hr>
-->

<!-- param14: check period in seconds -->
		<div class="blocParamImg">	
			<img src="check.png">
		</div>
		<div class="blocParamTxt">
			<span>Check: </span><span id="outputText14">xx</span><span> sec </span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider14" min="1" max="600" value="30" step="1" oninput="showParam(14,this.value)" />
		</div>
		
<!-- param15: http port -->
		<div class="blocParamImg">	
			<img src="port.png">
		</div>
		<div class="blocParamTxt">
			<span>HTTP port: </span><span id="outputText15">xx</span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider15" min="8980" max="8999" value="8989" step="1" oninput="showParam(15,this.value)" />
		</div>

<!-- param16: debug mode -->
		<div class="blocParamImg">	
			<img src="debug.png">
		</div>
		<div class="blocParamTxt">
			<span>Debug: </span><span id="outputText16">xx</span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider16" min="0" max="1" value="1" step="1" oninput="showParam(16,this.value)" />
		</div>

<!-- param17: log mode -->
		<div class="blocParamImg">	
			<img src="log.png">
		</div>
		<div class="blocParamTxt">
			<span>Log: </span><span id="outputText17">xx</span>
		</div>
		<div class="blocSlider">
			<input type="range" id="inputSlider17" min="0" max="1" value="1" step="1" oninput="showParam(17,this.value)" />
		</div>

		<hr>
	</div>
	<script type="text/javascript">		
		var socket = io.connect();

		function saveParameters( newValue) {
			socket.emit('save', { value: newValue });
		}

		function showParam(num, newValue) {
			socket.emit('param'+num, { value: newValue });
		}

		function socketSlider(num) {
			socket.on('param'+num, function (data) {
				document.getElementById( "inputSlider" + num ).value = data.value;
				document.getElementById( "outputText" + num ).innerHTML = data.value;
			});
		}

		//build paarmeter
		for (var i=1; i <= 21; i++) {
			socketSlider(i);
		}
	</script>
  </body>
</html>